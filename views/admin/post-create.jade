extends layout

block js
  script(src='//cdnjs.cloudflare.com/ajax/libs/marked/0.2.9/marked.min.js')
  script(src='/js/admin.js')

block content
  form(role='form', action='/admin/post', method="#{post ? 'PUT' : 'POST'}")
    div.row
      div.col-md-6
        div.row
          div.col-md-6.form-group
            label(for='form-title') Title:
            input#form-title.form-control(type='text', name='Title', value="#{post ? post.Title : ''}")
          div.col-md-6.form-group
            label(for='form-category') Category:
            select#form-category.form-control(type='text', name='Category')
              option(value='Blog') Blog
              option(value='News') News
              option(value='Career') Career
        div.row
          div.col-md-12.form-group
            label(for='form-abstract') Abstract: 
            textarea#form-abstract.form-control(name='Abstract')
            br
      div.col-md-3.form-group
        label(for='form-topics') Topics (multi-select):
        select#form-topics.form-control(type='text', name='Topics', multiple)
          option(value='Analytics') Analytics
          option(value='Application Development') Application Development
          option(value='B2B') B2B
          option(value='Branding') Branding
          option(value='Business Intelligence') Business Intelligence
          option(value='Mobile') Mobile
          option(value='Portals') Portals
          option(value='SharePoint') SharePoint
          option(value='Web') Web
      if (user.IsAdmin)
        div.col-md-3.form-group
          label(for='form-publish-date') Publish Date (mm/dd/yyyy):
          input#form-publish-date.form-control(type='text', name='PublishDate')
    div.row
      div.col-md-6
        div.panel.panel-default
          div.panel-heading Markdown input
          textarea#markdown.markdown-entry.form-control.tall.panel-body(rows='12', name='Markdown') #{post ? post.Markdown : ''}
      div.col-md-6
        div.panel.panel-default
          div.panel-heading Rendered output
          div#render.panel-body.tall
            p Enter markdown to the left
    div.row
      div.col-md-12.text-right
        if post
          input.btn.btn-primary.btn-medium(type='submit', value='Save')
        else
          input.btn.btn-primary.btn-medium(type='submit', value='Create')


